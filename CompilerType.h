#ifndef COMPILER_TYPE_H
#define COMPILER_TYPE_H

#include <stdio.h>
#include "NameTable/NameTableType.h"

// ---------------------------------------------------------------------------------------------------
enum Status_t
{
    PARSER_NOT_THIS     = 0,
    PARSER_THIS_OK      = 1,
    PARSER_THIS_ERROR   = 2
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum NodeType_t
{
    NODE_TYPE_FUNC,
    NODE_TYPE_VAR,
    NODE_TYPE_OPER,
    NODE_TYPE_KEY_WORD,
    NODE_TYPE_PUNCT,
    NODE_TYPE_NUM,
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum CompilerTypeBlock_t
{
    BLOCK_TYPE_GLOBAL   = 0,
    BLOCK_TYPE_IF       = 1,
    BLOCK_TYPE_ELIF     = 2,
    BLOCK_TYPE_ELSE     = 3,
    BLOCK_TYPE_WHILE    = 4,
    BLOCK_TYPE_FUNC     = 5
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum OperType_t
{
    OPER_ADD                = 0,
    OPER_SUB                = 1,
    OPER_MUL                = 2,
    OPER_DIV                = 3,
    OPER_POW                = 4,

    OPER_COMP_BIG_EQUAL     = 5,
    OPER_COMP_ONLY_BIG      = 6,
    OPER_COMP_LIT_EQUAL     = 7,
    OPER_COMP_ONLY_LIT      = 8,
    OPER_COMP_EQUAL         = 9,
    OPER_COMP_NOT_EQUAL     = 10,
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum KeyWord_t
{
    KEY_IF              = 0,
    KEY_ELIF            = 1,
    KEY_ELSE            = 2,
    KEY_WHILE           = 3,
    KEY_EXTERN_VAR      = 4,
    KEY_EXTERN_FUNC     = 5,
    KEY_RETURN          = 6
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum Punct_t
{
    PUNCT_COMMA         = 0,
    PUNCT_LEFT_ROUND    = 1,
    PUNCT_RIGHT_ROUND   = 2,
    PUNCT_DOG           = 3,
    PUNCT_H             = 4,
    PUNCT_QUOT          = 5,
    PUNCT_END_STR       = 6
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
struct CompilerBlock_t
{
    CompilerTypeBlock_t type;
    CompilerBlock_t* parent;
    size_t number;

    size_t amount_children;
    CompilerBlock_t** children;

    NameTable_t* table_var;
    size_t free_memory;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerVar_t
{
    CompilerBlock_t* block;
    size_t address;
    double value;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerFunc_t
{
    size_t amount_args;
};
// ---------------------------------------------------------------------------------------------------
/*
// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerTree_t
{
    CompilerNode_t* root;
    size_t size;
};
// ---------------------------------------------------------------------------------------------------
*/
// ---------------------------------------------------------------------------------------------------
/// @brief
union NodeValue_t
{
    int oper;
    int key;
    int punct;
    int num;
    char* name;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
/// @brief
struct Node_t
{
    NodeType_t type;
    Node_t* parent;
    int amount_children;
    Node_t** children;
    NodeValue_t value;
};
// ---------------------------------------------------------------------------------------------------


// ---------------------------------------------------------------------------------------------------
/// @brief
struct ContextInf_t
{
    char** pose;
    int line;
    NameTable_t* table_func;
};
// ---------------------------------------------------------------------------------------------------









#endif /* COMPILER_TYPE_H */
