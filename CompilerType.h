#include <stdio.h>
#include "AllTypes.h"



// ---------------------------------------------------------------------------------------------------
enum ParserStatus_t
{
    PARSER_NOT_THIS     = 0,
    PARSER_THIS_OK      = 1,
    PARSER_THIS_ERROR   = 2
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum CompilerNodeType_t
{
    NODE_TYPE_GLOBAL         = 0,
    NODE_TYPE_FUNC           = 1,
    NODE_TYPE_CALL_FUNC      = 2,
    NODE_TYPE_OPER           = 3,
    NODE_TYPE_VAR            = 4,
    NODE_TYPE_INDEX_IN_TABLE = 5,
    NODE_TYPE_CONST          = 6
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum CompilerTypeBlock_t
{
    BLOCK_TYPE_GLOBAL   = 0,
    BLOCK_TYPE_IF       = 1,
    BLOCK_TYPE_ELIF     = 2,
    BLOCK_TYPE_ELSE     = 3,
    BLOCK_TYPE_WHILE    = 4,
    BLOCK_TYPE_FUNC     = 5
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
enum CompilerOperType_t
{
    OPER_ADD                = 0,
    OPER_SUB                = 1,
    OPER_MUL                = 2,
    OPER_DIV                = 3,
    OPER_POW                = 4,

    OPER_COMP_BIG_EQUAL     = 5,
    OPER_COMP_ONLY_BIG      = 6,
    OPER_COMP_LIT_EQUAL     = 7,
    OPER_COMP_ONLY_LIT      = 8,
    OPER_COMP_EQUAL         = 9,
    OPER_COMP_NOT_EQUAL     = 10,

    OPER_ASSIGN             = 11,
    OPER_IF                 = 12,
    OPER_ELIF               = 13,
    OPER_ELSE               = 14,
    OPER_WHILE              = 15
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
struct CompilerPlaceInf_t
{
    Token_t* token;
    size_t cur_index;
    size_t capacity;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
struct CompilerBlock_t
{
    CompilerTypeBlock_t type;
    CompilerBlock_t* parent;
    size_t number;

    size_t amount_children;
    CompilerBlock_t** children;

    NameTable_t* table_var;
    size_t free_memory;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerVar_t
{
    CompilerBlock_t* block;
    size_t address;
    double value;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerFunc_t
{
    size_t amount_args;
};
// ---------------------------------------------------------------------------------------------------
/*
// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerTree_t
{
    CompilerNode_t* root;
    size_t size;
};
// ---------------------------------------------------------------------------------------------------
*/
// ---------------------------------------------------------------------------------------------------
/// @brief
union CompilerNodeValue_t
{
    int oper;
    size_t index;
    double num;
};
// ---------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------
/// @brief
struct CompilerNode_t
{
    CompilerNodeType_t type;
    CompilerNode_t* parent;
    int amount_children;
    CompilerNode_t** children;
    CompilerNodeValue_t value;
};
// ---------------------------------------------------------------------------------------------------


// ---------------------------------------------------------------------------------------------------
/// @brief
struct ParserPlaceInf_t
{
    char** pose;
};
// ---------------------------------------------------------------------------------------------------










